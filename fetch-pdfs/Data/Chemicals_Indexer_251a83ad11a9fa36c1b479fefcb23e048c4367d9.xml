<?xml version="1.0" encoding="UTF-8"?>
<job>
  <jobclass>com.ravn.pipeline.connector.filesystem.FileScannerConnectorFactory</jobclass>
  <connectorClass>com.ravn.pipeline.connector.filesystem.FileScannerConnectorFactory</connectorClass>
  <status>Running</status>
  <generic.lastMessage>Added: 1</generic.lastMessage>
  <state></state>
  <trigger>
    <period>seconds</period>
    <schedtype>ondemand</schedtype>
    <starttime>2014-12-24 10:16:27</starttime>
  </trigger>
  <runningTime>
    <type>unlimited</type>
    <period>seconds</period>
  </runningTime>
  <stages>
    <stage>
      <id>b072334d-7afe-41e3-bc89-0f3669bd8b2a</id>
      <classname>com.ravn.pipeline.stage.docfilter.DocFilterStageFactory</classname>
      <enabled>true</enabled>
      <errorthreshold>Medium</errorthreshold>
      <stagecondition.casesensitive>Y</stagecondition.casesensitive>
      <stagecondition.fieldrequired>N</stagecondition.fieldrequired>
      <stagecondition.conditionfield></stagecondition.conditionfield>
      <add-metadata>Y</add-metadata>
      <docfilter.targetfield>/text</docfilter.targetfield>
      <docfilter.metadatatargetfield>/</docfilter.metadatatargetfield>
      <docfilter.propertiestargetfield>/</docfilter.propertiestargetfield>
      <docfilter.sourcetype>Binary</docfilter.sourcetype>
      <docfilter.sourcefield></docfilter.sourcefield>
      <docfilters>
        <docfilter>
          <classname>com.ravn.pipeline.docfilter.csv.CSVFilterFactory</classname>
          <encoding>UTF-8</encoding>
          <extensions>csv</extensions>
          <firstrowfields>Y</firstrowfields>
          <mimetypes>text/csv</mimetypes>
          <quote>&quot;</quote>
          <separator>,</separator>
        </docfilter>
        <docfilter>
          <classname>com.ravn.pipeline.docfilter.extractor.RavnExtractorFilterFactory</classname>
          <extensions>*</extensions>
          <mode>PIPELINE</mode>
        </docfilter>
        <docfilter>
          <classname>com.ravn.pipeline.docfilter.html.HTMLFilterFactory</classname>
          <extensions>html,htm,asp,aspx,php,jsp</extensions>
          <filtermapping>0</filtermapping>
          <mimetypes>text/html</mimetypes>
        </docfilter>
        <docfilter>
          <classname>com.ravn.pipeline.docfilter.json.JsonFilterFactory</classname>
          <defaultnodename>node</defaultnodename>
          <extensions>json</extensions>
          <mimetypes>application/json</mimetypes>
        </docfilter>
        <docfilter>
          <classname>com.ravn.pipeline.docfilter.plain.PlainTextFilterFactory</classname>
          <extensions>txt</extensions>
          <mimetypes>text/plain</mimetypes>
        </docfilter>
        <docfilter>
          <classname>com.ravn.pipeline.docfilter.xml.XMLFilterFactory</classname>
          <attribute-tag>attribute</attribute-tag>
          <cancel-original>Y</cancel-original>
          <extensions>xml</extensions>
          <item-tag>/items/item</item-tag>
          <itemid-tag>id</itemid-tag>
          <meta-tag>/items/meta</meta-tag>
          <mimetypes>application/xml,text/xml</mimetypes>
          <omit-whitespace>Y</omit-whitespace>
          <strip-prefixes>N</strip-prefixes>
        </docfilter>
      </docfilters>
    </stage>
    <stage>
      <id>fca61462-fe82-4b84-8b68-11db3873f46b</id>
      <classname>com.ravn.pipeline.stage.field.FieldMappingStageFactory</classname>
      <enabled>true</enabled>
      <fields_0_value2>Add</fields_0_value2>
      <fields_1_key>/name</fields_1_key>
      <fields_1_value>/title</fields_1_value>
      <DeleteOrg>N</DeleteOrg>
      <stagecondition.fieldrequired>N</stagecondition.fieldrequired>
      <fields_1_value2>Replace</fields_1_value2>
      <errorthreshold>Medium</errorthreshold>
      <stagecondition.casesensitive>Y</stagecondition.casesensitive>
      <fields>2</fields>
    </stage>
    <stage>
      <id>3c20b1f0-6dc9-4d78-bb03-9687604d1bbb</id>
      <classname>com.ravn.pipeline.stage.diskwriter.DiskWriterFactory</classname>
      <enabled>false</enabled>
      <solrxmlbatcher.includeroot>N</solrxmlbatcher.includeroot>
      <solrxmlbatcher.startwithseperator>N</solrxmlbatcher.startwithseperator>
      <stagecondition.fieldrequired>N</stagecondition.fieldrequired>
      <idx.separator>.</idx.separator>
      <solrxmlbatcher.idfield>/id</solrxmlbatcher.idfield>
      <document-batching>N</document-batching>
      <solrxmlbatcher.attrseparator>@</solrxmlbatcher.attrseparator>
      <diskwriter.batcher>XMLBatcher</diskwriter.batcher>
      <idx.idfield>/id</idx.idfield>
      <idx.buffersize>100</idx.buffersize>
      <output-dir>./temp</output-dir>
      <xml.rootname>items</xml.rootname>
      <include-annotations>Y</include-annotations>
      <diskwriter.filename>ItemId</diskwriter.filename>
      <xml.itemfieldname>item</xml.itemfieldname>
      <solrxmlbatcher.pathseparator>/</solrxmlbatcher.pathseparator>
      <diskwriter.prefixTimestamp>N</diskwriter.prefixTimestamp>
      <idx.fieldmapping>0</idx.fieldmapping>
      <errorthreshold>Medium</errorthreshold>
      <stagecondition.casesensitive>Y</stagecondition.casesensitive>
    </stage>
    <stage>
      <id>2cfb3827-9def-452b-befe-e6e6f2cd9c1f</id>
      <classname>com.ravn.pipeline.stage.scripting.ScriptingStageFactory</classname>
      <enabled>true</enabled>
      <scripts>
        <script>
          <scriptName>product_id_creator</scriptName>
          <scriptContent>aW1wb3J0IGNvbS5yYXZuLnBpcGVsaW5lLmFwaS5pdGVtLkl0ZW0NCmZyb20gY29tLnJhdm4ucGlwZWxpbmUuYXBpLml0ZW0gaW1wb3J0IEl0ZW0NCmZyb20gY29tLnJhdm4ucGlwZWxpbmUuYXBpLml0ZW0gaW1wb3J0IE5vZGUNCmltcG9ydCB1dWlkDQppbXBvcnQgb3MNCg0KZGVmIHByb2Nlc3MoaXRlbSwgaW50ZXJjZXB0b3IpOg0KICAgIHRyeToNCiAgICAgICAgcHJvZHVjdE5hbWUgPSBpdGVtLmZpbmQoJy9wcm9kdWN0JykNCiAgICAgICAgaWYgcHJvZHVjdE5hbWU6DQogICAgICAgICAgICBwcm9kdWN0TmFtZSA9IHByb2R1Y3ROYW1lLmdldFZhbHVlKCkNCiAgICAgICAgICAgIHByb2R1Y3RJZCA9IGJ1aWxkVXVpZChwcm9kdWN0TmFtZS50b1N0cmluZygpKQ0KICAgICAgICAgICAgaXRlbS5hZGROb2RlKCdwcm9kdWN0SWQnLCBwcm9kdWN0SWQpDQogICAgICAgICAgICANCiAgICAgICAgaXRlbU5hbWUgPSBpdGVtLmZpbmQoJy9uYW1lJykNCiAgICAgICAgaWYgaXRlbU5hbWU6DQogICAgICAgICAgICBpdGVtTmFtZSA9IGl0ZW1OYW1lLmdldFZhbHVlKCkudG9TdHJpbmcoKQ0KICAgICAgICAgICAgcHJpbnQgIkN1cnJlbnQgaXRlbToiICsgaXRlbU5hbWUNCiAgICAgICAgICAgIGl0ZW1JZCA9IGJ1aWxkVXVpZChpdGVtTmFtZSkNCiAgICAgICAgICAgIGl0ZW0uYWRkTm9kZSgnaXRlbUlkJywgaXRlbUlkKQ0KICAgICAgIA0KICAgIGV4Y2VwdDoNCiAgICAgICAgcHJpbnQgIlVuZXhwZWN0ZWQgZXJyb3IuIENhbm5vdCBidWlsZCBwcm9kdWN0IElELiINCg0KZGVmIGJ1aWxkVXVpZChuYW1lKToNCiAgICByZXR1cm4gc3RyKHV1aWQudXVpZDModXVpZC5OQU1FU1BBQ0VfWDUwMCxuYW1lLmVuY29kZSgidXRmLTgiKSkp</scriptContent>
        </script>
      </scripts>
      <selectAreaScripts>product_id_creator</selectAreaScripts>
      <template_list>append_xml.py</template_list>
      <stageId>2cfb3827-9def-452b-befe-e6e6f2cd9c1f</stageId>
      <stagecondition.fieldrequired>N</stagecondition.fieldrequired>
      <selectedJobName>Chemicals Indexer</selectedJobName>
      <errorthreshold>Medium</errorthreshold>
      <language>python</language>
      <stagecondition.casesensitive>Y</stagecondition.casesensitive>
    </stage>
    <stage>
      <id>f9bc4f57-1cba-44cb-8d76-82fd89bc7b30</id>
      <classname>com.ravn.pipeline.stage.id.IdGeneratorStageFactory</classname>
      <enabled>true</enabled>
      <fields>/itemId</fields>
      <fieldname>/id</fieldname>
      <stagecondition.fieldrequired>N</stagecondition.fieldrequired>
      <method>Concatenate</method>
      <errorthreshold>Medium</errorthreshold>
      <stagecondition.casesensitive>Y</stagecondition.casesensitive>
    </stage>
    <stage>
      <id>629b6919-1070-4f6c-90d4-c3ca54e36285</id>
      <classname>com.ravn.pipeline.stage.diskwriter.DiskWriterFactory</classname>
      <enabled>false</enabled>
      <solrxmlbatcher.includeroot>N</solrxmlbatcher.includeroot>
      <solrxmlbatcher.startwithseperator>N</solrxmlbatcher.startwithseperator>
      <stagecondition.fieldrequired>N</stagecondition.fieldrequired>
      <idx.separator>.</idx.separator>
      <solrxmlbatcher.idfield>/id</solrxmlbatcher.idfield>
      <document-batching>N</document-batching>
      <solrxmlbatcher.attrseparator>@</solrxmlbatcher.attrseparator>
      <diskwriter.batcher>XMLBatcher</diskwriter.batcher>
      <idx.idfield>/id</idx.idfield>
      <idx.buffersize>100</idx.buffersize>
      <output-dir>./temp</output-dir>
      <xml.rootname>items</xml.rootname>
      <include-annotations>Y</include-annotations>
      <diskwriter.filename>ItemId</diskwriter.filename>
      <xml.itemfieldname>item</xml.itemfieldname>
      <solrxmlbatcher.pathseparator>/</solrxmlbatcher.pathseparator>
      <diskwriter.prefixTimestamp>N</diskwriter.prefixTimestamp>
      <idx.fieldmapping>0</idx.fieldmapping>
      <errorthreshold>Medium</errorthreshold>
      <stagecondition.casesensitive>Y</stagecondition.casesensitive>
    </stage>
    <stage>
      <id>c7e98659-37b3-4822-8f38-a0e304c636ee</id>
      <classname>com.ravn.pipeline.stage.core.CoreStageFactory</classname>
      <enabled>true</enabled>
      <core.token>superuser</core.token>
      <core.security.enabled>true</core.security.enabled>
      <core.ravnschema.enabled>Y</core.ravnschema.enabled>
      <core.database>ravn</core.database>
      <core.host>localhost</core.host>
      <stagecondition.fieldrequired>N</stagecondition.fieldrequired>
      <core.version>API1_0</core.version>
      <core.port>11040</core.port>
      <core.excluded.paths>/productUrl</core.excluded.paths>
      <core.excluded.paths>/product</core.excluded.paths>
      <core.excluded.paths>/rooturl</core.excluded.paths>
      <core.excluded.paths>/rootid</core.excluded.paths>
      <core.excluded.paths>/downloadurl</core.excluded.paths>
      <core.excluded.paths>/source</core.excluded.paths>
      <core.excluded.paths>/itemtype</core.excluded.paths>
      <core.excluded.paths>/sourcetype</core.excluded.paths>
      <core.excluded.paths>/text</core.excluded.paths>
      <core.excluded.paths>/filesize</core.excluded.paths>
      <core.excluded.paths>/parentid</core.excluded.paths>
      <core.excluded.paths>/parenturl</core.excluded.paths>
      <core.basePath>rest</core.basePath>
      <core.social.namespace>social</core.social.namespace>
      <errorthreshold>Medium</errorthreshold>
      <stagecondition.casesensitive>Y</stagecondition.casesensitive>
      <core.labels>${/label}</core.labels>
    </stage>
    <stage>
      <id>c8b1de75-f0de-43d1-b39f-654e45d49f2b</id>
      <classname>com.ravn.pipeline.stage.scripting.ScriptingStageFactory</classname>
      <enabled>true</enabled>
      <scripts>
        <script>
          <scriptName>link</scriptName>
          <scriptContent>aW1wb3J0IHVybGxpYjIKaW1wb3J0IGNvbS5yYXZuLnBpcGVsaW5lLmFwaS5pdGVtLkl0ZW0KZnJvbSBjb20ucmF2bi5waXBlbGluZS5hcGkuaXRlbSBpbXBvcnQgSXRlbQpmcm9tIGNvbS5yYXZuLnBpcGVsaW5lLmFwaS5pdGVtIGltcG9ydCBOb2RlCgpkZWYgcHJvY2VzcyhpdGVtLCBpbnRlcmNlcHRvcik6CiAgICBsb2dnZXIuaW5mbygnU3RhcnRpbmcgUHl0aG9uIFNjcmlwdCcpCiAgICAKICAgIHBheWxvYWQgPSB7fQogICAgcHJvZHVjdElkID0gaXRlbS5maW5kKCcvcHJvZHVjdElkJykuZ2V0VmFsdWUoKS50b1N0cmluZygpCiAgICBpZCA9IGl0ZW0uZmluZCgnL2lkJykuZ2V0VmFsdWUoKS50b1N0cmluZygpCiAgICBsYWJlbCA9IGl0ZW0uZmluZCgnL2xhYmVsJykuZ2V0VmFsdWUoKS50b1N0cmluZygpCiAgICB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDoxMTA0MC9yZXN0L2FwaS92MS9kYXRhYmFzZXMvcmF2bi9pdGVtcy8iK3Byb2R1Y3RJZCsiL2xpbmtzL09VVC5wcm9kdWN0XyIrbGFiZWwrIi8iK2lkCiAgICAKICAgIG9wZW5lciA9IHVybGxpYjIuYnVpbGRfb3BlbmVyKHVybGxpYjIuSFRUUEhhbmRsZXIpCiAgICByZXF1ZXN0ID0gdXJsbGliMi5SZXF1ZXN0KHVybCwgZGF0YT0ne30nKQogICAgcmVxdWVzdC5hZGRfaGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICByZXF1ZXN0LmdldF9tZXRob2QgPSBsYW1iZGE6ICdQVVQnCiAgICB1cmwgPSBvcGVuZXIub3BlbihyZXF1ZXN0KQ==</scriptContent>
        </script>
      </scripts>
      <selectAreaScripts>link</selectAreaScripts>
      <template_list>append_xml.py</template_list>
      <stageId>c8b1de75-f0de-43d1-b39f-654e45d49f2b</stageId>
      <stagecondition.fieldrequired>N</stagecondition.fieldrequired>
      <selectedJobName>Chemicals Indexer</selectedJobName>
      <language>python</language>
      <errorthreshold>Medium</errorthreshold>
      <stagecondition.casesensitive>Y</stagecondition.casesensitive>
    </stage>
  </stages>
  <jobname>Chemicals Indexer</jobname>
  <jobname>Chemicals Indexer</jobname>
  <max-file-size>100</max-file-size>
  <generic.storedFailedPath>./failed/Chemicals Indexer</generic.storedFailedPath>
  <smb-use-share-aces>N</smb-use-share-aces>
  <generic.resumejob>N</generic.resumejob>
  <authorityname>NT</authorityname>
  <generic.source>Chemicals Indexer</generic.source>
  <generic.storeFailed>N</generic.storeFailed>
  <subdirs>Y</subdirs>
  <fileroots>C:\Users\michalis_RAVN\Documents\Chemicals\chemicals-tools\fetch-pdfs\Data\scripts</fileroots>
  <include-patterns>*.csv</include-patterns>
  <ignoreLastUpdateSecs>0</ignoreLastUpdateSecs>
  <generic.storestate>N</generic.storestate>
  <maxNumFiles>-1</maxNumFiles>
  <linkqueue.deleteEnabled>Y</linkqueue.deleteEnabled>
</job>
